

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Chasing the Overton Window &#8212; Probably Overthinking It</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]]}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'overton';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The Principal Components of Anthropometry" href="ansur_pca.html" />
    <link rel="prev" title="Changing Hearts and Minds" href="progress.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    <p class="title logo__title">Probably Overthinking It</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Probably Overthinking It
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Chapters</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="gaussian.html">Are You Normal? Hint: No.</a></li>
<li class="toctree-l1"><a class="reference internal" href="inspection.html">Relay Races and Revolving Doors</a></li>
<li class="toctree-l1"><a class="reference internal" href="preston.html">Defy Tradition, Save the World</a></li>
<li class="toctree-l1"><a class="reference internal" href="lognormal.html">Extremes, Outliers, and GOATs</a></li>
<li class="toctree-l1"><a class="reference internal" href="nbue.html">Better Than New</a></li>
<li class="toctree-l1"><a class="reference internal" href="berkson.html">Jumping to Conclusions</a></li>
<li class="toctree-l1"><a class="reference internal" href="birthweight.html">Causation, Collision, and Confusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="longtail.html">The Long Tail of Disaster</a></li>
<li class="toctree-l1"><a class="reference internal" href="base_rate.html">Fairness and Fallacy</a></li>
<li class="toctree-l1"><a class="reference internal" href="simpson.html">Penguins, Pessimists, and Paradoxes</a></li>
<li class="toctree-l1"><a class="reference internal" href="progress.html">Changing Hearts and Minds</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Chasing the Overton Window</a></li>

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="ansur_pca.html">The Principal Components of Anthropometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="ideology_gap.html">Is the Ideology Gap Growing?</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/AllenDowney/ProbablyOverthinkingIt" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/overton.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Chasing the Overton Window</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Chasing the Overton Window</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Chasing the Overton Window</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#old-conservatives-young-liberals">Old Conservatives, Young Liberals?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-does-conservative-mean">What does “conservative” mean?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-can-this-be">How Can This Be?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-center-does-not-hold">The Center Does Not Hold</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#everything-is-relative">Everything is Relative</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#are-we-more-polarized">Are we more polarized?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chasing-overton">Chasing Overton</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sources-and-related-reading">Sources and related reading</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#appendix-the-fifteen-questions">Appendix: The Fifteen Questions</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="chasing-the-overton-window">
<h1>Chasing the Overton Window<a class="headerlink" href="#chasing-the-overton-window" title="Permalink to this heading">#</a></h1>
<p><a class="reference external" href="https://colab.research.google.com/github/AllenDowney/ProbablyOverthinkingIt/blob/book/notebooks/overton.ipynb">Click here to run this notebook on Colab</a>.</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install empiricaldist if we don&#39;t already have it</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">empiricaldist</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>empiricaldist
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># download utils.py</span>

<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">basename</span><span class="p">,</span> <span class="n">exists</span>

<span class="k">def</span> <span class="nf">download</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">basename</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">exists</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlretrieve</span>
        <span class="n">local</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Downloaded &#39;</span> <span class="o">+</span> <span class="n">local</span><span class="p">)</span>
        
<span class="n">download</span><span class="p">(</span><span class="s2">&quot;https://github.com/AllenDowney/ProbablyOverthinkingIt/raw/book/notebooks/utils.py&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># Set the random seed so we get the same results every time</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">utils</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">underride</span><span class="p">,</span>
    <span class="n">decorate</span><span class="p">,</span>
    <span class="n">decorate_table</span><span class="p">,</span>
    <span class="n">prepare_yvar</span><span class="p">,</span>
    <span class="n">run_subgroups</span><span class="p">,</span>
    <span class="n">chunk_series</span><span class="p">,</span>
    <span class="n">make_table</span><span class="p">,</span>
    <span class="n">visualize_table</span><span class="p">,</span>
    <span class="n">label_table</span><span class="p">,</span>
    <span class="n">label_table_left</span><span class="p">,</span>
    <span class="n">make_lowess</span><span class="p">,</span>
    <span class="n">plot_series_lowess</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</details>
</div>
</section>
<section id="id1">
<h1>Chasing the Overton Window<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h1>
<p>There’s a famous (but unattributable) quote about liberals and conservatives that goes something like this:</p>
<blockquote>
<div><p>If you are not a liberal at 25, you have no heart. If you are not a conservative at 35, you have no brain.</p>
</div></blockquote>
<p>It turns out that there is some truth to this.
People under 30 are actually more likely to consider themselves liberal, and people over 30 are more likely to consider themselves conservative.
And it’s not just what they call themselves; the views of older people are more conservative, on average, than the views of younger people.</p>
<p>However, as we saw in the previous chapter, just because older people hold a particular view, that doesn’t mean people adopt that view as they get older.
In fact, in most birth cohorts, people get more liberal as they age.
As you probably recognize by now, this is an example of Simpson’s paradox.</p>
<p>But Simpson’s paradox doesn’t explain why people <em>consider</em> themselves more conservative even as they are becoming more liberal.
To understand that, we’ll need two ideas from the previous chapter: age-period-cohort analysis and the Overton window.</p>
<section id="old-conservatives-young-liberals">
<h2>Old Conservatives, Young Liberals?<a class="headerlink" href="#old-conservatives-young-liberals" title="Permalink to this heading">#</a></h2>
<p>To recap, here are the phenomena I will try to explain:</p>
<ul class="simple">
<li><p>People are more likely to identify as conservative as they get older.</p></li>
<li><p>And older people hold more conservative views, on average.</p></li>
<li><p>However, as people get older, their views do not become more conservative.</p></li>
</ul>
<p>In other words, people think they are becoming more conservative, but they are not.
First, let me show that each of these claims is true; then I’ll explain why.</p>
<p>To demonstrate the first claim, I’ll use responses to the following question:</p>
<blockquote>
<div><p>I’m going to show you a seven-point scale on which the political views that people might hold are arranged from extremely liberal–point 1–to extremely conservative–point 7. Where would you place yourself on this scale?</p>
</div></blockquote>
<p>The points on the scale are Extremely liberal, Liberal, and Slightly liberal; Moderate;	Slightly conservative, Conservative, and Extremely conservative.</p>
<p>I’ll lump the first three points into “Liberal” and the last three into “Conservative”, which makes the number of groups manageable and, it turns out, roughly equal in size.
The following figure shows the percentage of respondents who consider themselves to be in each of these groups, as a function of age.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;https://github.com/AllenDowney/PoliticalAlignmentCaseStudy/raw/master/gss_pacs_resampled.hdf&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;gss_pacs_resampled.hdf&quot;</span>
<span class="n">gss</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_hdf</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;gss0&quot;</span><span class="p">)</span>
<span class="n">gss</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(72390, 204)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1889</span><span class="p">,</span> <span class="mi">2011</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="n">bins</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>

<span class="n">gss</span><span class="p">[</span><span class="s2">&quot;cohort10&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">gss</span><span class="p">[</span><span class="s2">&quot;cohort&quot;</span><span class="p">],</span> <span class="n">bins</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">gss</span><span class="p">[</span><span class="s2">&quot;cohort10&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>cohort10
1890.0      455
1900.0     1717
1910.0     3663
1920.0     5959
1930.0     7063
1940.0    10983
1950.0    14448
1960.0    11303
1970.0     7851
1980.0     5062
1990.0     2590
2000.0      524
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gss</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;cohort10&quot;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">gss</span><span class="p">[</span><span class="s2">&quot;cohort10&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gss</span><span class="p">[</span><span class="s2">&quot;cohort10&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gss</span><span class="p">[</span><span class="s2">&quot;polviews&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>polviews
4.0    23893
5.0     9754
6.0     9484
3.0     7749
2.0     7231
7.0     2097
1.0     2063
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">recode_polviews</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;Liberal&quot;</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;Liberal&quot;</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">:</span> <span class="s2">&quot;Liberal&quot;</span><span class="p">,</span>
    <span class="mi">4</span><span class="p">:</span> <span class="s2">&quot;Moderate&quot;</span><span class="p">,</span>
    <span class="mi">5</span><span class="p">:</span> <span class="s2">&quot;Conservative&quot;</span><span class="p">,</span>
    <span class="mi">6</span><span class="p">:</span> <span class="s2">&quot;Conservative&quot;</span><span class="p">,</span>
    <span class="mi">7</span><span class="p">:</span> <span class="s2">&quot;Conservative&quot;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">gss</span><span class="p">[</span><span class="s2">&quot;polviews3&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gss</span><span class="p">[</span><span class="s2">&quot;polviews&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">recode_polviews</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">polview_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Liberal&quot;</span><span class="p">,</span> <span class="s2">&quot;Moderate&quot;</span><span class="p">,</span> <span class="s2">&quot;Conservative&quot;</span><span class="p">]</span>

<span class="n">muted</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">&quot;muted&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">polview_map</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">polview_names</span><span class="p">,</span> <span class="p">[</span><span class="n">muted</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">muted</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">muted</span><span class="p">[</span><span class="mi">3</span><span class="p">]]))</span>
<span class="n">marker_map</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">polview_names</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;^&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">]))</span>
<span class="n">line_map</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">polview_names</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="s2">&quot;-.&quot;</span><span class="p">,</span> <span class="s2">&quot;--&quot;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xtab</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">gss</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">],</span> <span class="n">gss</span><span class="p">[</span><span class="s2">&quot;polviews3&quot;</span><span class="p">],</span> <span class="n">normalize</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Moderate&quot;</span><span class="p">,</span> <span class="s2">&quot;Conservative&quot;</span><span class="p">,</span> <span class="s2">&quot;Liberal&quot;</span><span class="p">]</span>
<span class="n">options</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">plot_series</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
    <span class="n">plot_series_lowess</span><span class="p">(</span>
        <span class="n">xtab</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="n">line_map</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">polview_map</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="o">**</span><span class="n">options</span>
    <span class="p">)</span>

<span class="n">decorate</span><span class="p">(</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Age&quot;</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Percent&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Political alignment vs age&quot;</span><span class="p">,</span>
    <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;center right&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton1.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/8e7ca41c5eac3de809af25af1c397d86d20c181dfbe6542646c743843e1df5ab.png" src="_images/8e7ca41c5eac3de809af25af1c397d86d20c181dfbe6542646c743843e1df5ab.png" />
</div>
</div>
<p>At every age, the largest group of respondents describe themselves as moderate.
However, in accordance with the unattributable quip, people under thirty are more likely to consider themselves liberal, and people over thirty are more likely to consider themselves conservative.</p>
<p>Within most birth cohorts, the pattern is the same: as people get older, they are more likely to identify as conservative.
The following figure shows the percentage of people who identify as conservative as a function of age, grouped by decade of birth.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xvarname</span> <span class="o">=</span> <span class="s2">&quot;age&quot;</span>
<span class="n">yvarname</span> <span class="o">=</span> <span class="s2">&quot;polviews3&quot;</span>
<span class="n">gvarname</span> <span class="o">=</span> <span class="s2">&quot;cohort10&quot;</span>
<span class="n">yvalue</span> <span class="o">=</span> <span class="s2">&quot;Conservative&quot;</span>

<span class="n">table</span> <span class="o">=</span> <span class="n">make_table</span><span class="p">(</span><span class="n">gss</span><span class="p">,</span> <span class="n">xvarname</span><span class="p">,</span> <span class="n">yvarname</span><span class="p">,</span> <span class="n">gvarname</span><span class="p">,</span> <span class="n">yvalue</span><span class="p">)</span>
<span class="k">del</span> <span class="n">table</span><span class="p">[</span><span class="mi">1900</span><span class="p">]</span>
<span class="k">del</span> <span class="n">table</span><span class="p">[</span><span class="mi">1910</span><span class="p">]</span>
<span class="n">series</span> <span class="o">=</span> <span class="n">chunk_series</span><span class="p">(</span><span class="n">gss</span><span class="p">,</span> <span class="n">xvarname</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">visualize_table</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">table</span><span class="p">,</span> <span class="n">frac</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>

<span class="n">nudge</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;1970s&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;1930s&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span>
<span class="n">label_table</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">nudge</span><span class="p">,</span> <span class="n">frac</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>

<span class="n">decorate</span><span class="p">(</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Age&quot;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Percent&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Percentage identifying as conservative, grouped by decade of birth&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton2.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b257e372f27a84e9f0ae7f98727739523f12249ba35ce45cd67b7c74fff33898.png" src="_images/b257e372f27a84e9f0ae7f98727739523f12249ba35ce45cd67b7c74fff33898.png" />
</div>
</div>
<p>There is evidence here for an age effect; in many groups there is a notable increase around age 30 and a leveling off after age 40.
The most recent cohorts in the dataset, people born in the 1980s and 1990s, might be an exception; so far, they show no trend toward conservative identity.
But the oldest of them were surveyed in their 30s, so it might be too early to tell.</p>
</section>
<section id="what-does-conservative-mean">
<h2>What does “conservative” mean?<a class="headerlink" href="#what-does-conservative-mean" title="Permalink to this heading">#</a></h2>
<p>Now, to test the second claim – that older people hold more conservative views – we have to figure out what conservative views are.
To do that, I searched for questions in the GSS with the biggest differences between the responses of self-described liberals and conservatives.
From those, I curated a list of fifteen questions that cover a diverse set of topics, with preference for questions that were asked most frequently over the years of the survey.</p>
<p>The topics that made the list are not surprising. They include economic issues like public spending on welfare and the environment; policy issues like the legality of guns, drugs, and pornography; as well as questions related to sex education and prayer in schools, capital punishment, assisted suicide, and (of course) abortion.
The list also includes three of the questions we looked at in the previous chapter, related to open housing laws, women in politics, and homosexuality.</p>
<p>For the current purpose, we are not concerned with the wording of the questions; we only need to know that liberals and conservatives give different answers.
But if you are curious, the list of questions is at the end of this chapter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">varnames</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;abany&quot;</span><span class="p">,</span>
    <span class="s2">&quot;abdefect&quot;</span><span class="p">,</span>
    <span class="s2">&quot;abhlth&quot;</span><span class="p">,</span>
    <span class="s2">&quot;abnomore&quot;</span><span class="p">,</span>
    <span class="s2">&quot;abpoor&quot;</span><span class="p">,</span>
    <span class="s2">&quot;abrape&quot;</span><span class="p">,</span>
    <span class="s2">&quot;absingle&quot;</span><span class="p">,</span>
    <span class="s2">&quot;affrmact&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bible&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cappun&quot;</span><span class="p">,</span>
    <span class="s2">&quot;colath&quot;</span><span class="p">,</span>
    <span class="s2">&quot;colcom&quot;</span><span class="p">,</span>
    <span class="s2">&quot;colhomo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;colmil&quot;</span><span class="p">,</span>
    <span class="s2">&quot;colmslm&quot;</span><span class="p">,</span>
    <span class="s2">&quot;colrac&quot;</span><span class="p">,</span>
    <span class="s2">&quot;compuse&quot;</span><span class="p">,</span>
    <span class="s2">&quot;conarmy&quot;</span><span class="p">,</span>
    <span class="s2">&quot;conbus&quot;</span><span class="p">,</span>
    <span class="s2">&quot;conclerg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;coneduc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;confed&quot;</span><span class="p">,</span>
    <span class="s2">&quot;confinan&quot;</span><span class="p">,</span>
    <span class="s2">&quot;conjudge&quot;</span><span class="p">,</span>
    <span class="s2">&quot;conlabor&quot;</span><span class="p">,</span>
    <span class="s2">&quot;conlegis&quot;</span><span class="p">,</span>
    <span class="s2">&quot;conmedic&quot;</span><span class="p">,</span>
    <span class="s2">&quot;conpress&quot;</span><span class="p">,</span>
    <span class="s2">&quot;consci&quot;</span><span class="p">,</span>
    <span class="s2">&quot;contv&quot;</span><span class="p">,</span>
    <span class="s2">&quot;discaffm&quot;</span><span class="p">,</span>
    <span class="s2">&quot;discaffw&quot;</span><span class="p">,</span>
    <span class="s2">&quot;divlaw&quot;</span><span class="p">,</span>
    <span class="s2">&quot;divorce&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fair&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fear&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fechld&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fefam&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fehire&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fejobaff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fepol&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fepresch&quot;</span><span class="p">,</span>
    <span class="s2">&quot;finrela&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fund&quot;</span><span class="p">,</span>
    <span class="s2">&quot;god&quot;</span><span class="p">,</span>
    <span class="s2">&quot;grass&quot;</span><span class="p">,</span>
    <span class="s2">&quot;gunlaw&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hapmar&quot;</span><span class="p">,</span>
    <span class="s2">&quot;happy&quot;</span><span class="p">,</span>
    <span class="s2">&quot;health&quot;</span><span class="p">,</span>
    <span class="s2">&quot;helpful&quot;</span><span class="p">,</span>
    <span class="s2">&quot;homosex&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hunt&quot;</span><span class="p">,</span>
    <span class="s2">&quot;letdie1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;libath&quot;</span><span class="p">,</span>
    <span class="s2">&quot;libcom&quot;</span><span class="p">,</span>
    <span class="s2">&quot;libhomo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;libmil&quot;</span><span class="p">,</span>
    <span class="s2">&quot;libmslm&quot;</span><span class="p">,</span>
    <span class="s2">&quot;librac&quot;</span><span class="p">,</span>
    <span class="s2">&quot;life&quot;</span><span class="p">,</span>
    <span class="s2">&quot;meovrwrk&quot;</span><span class="p">,</span>
    <span class="s2">&quot;nataid&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natarms&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natchld&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natcity&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natcrime&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natdrug&quot;</span><span class="p">,</span>
    <span class="s2">&quot;nateduc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natenrgy&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natenvir&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natfare&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natheal&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natmass&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natpark&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natrace&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natroad&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natsci&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natsoc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natspac&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pornlaw&quot;</span><span class="p">,</span>
    <span class="s2">&quot;postlife&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pray&quot;</span><span class="p">,</span>
    <span class="s2">&quot;prayer&quot;</span><span class="p">,</span>
    <span class="s2">&quot;premarsx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pres04&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pres08&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pres12&quot;</span><span class="p">,</span>
    <span class="s2">&quot;racmar&quot;</span><span class="p">,</span>
    <span class="s2">&quot;racopen&quot;</span><span class="p">,</span>
    <span class="s2">&quot;racpres&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reborn&quot;</span><span class="p">,</span>
    <span class="s2">&quot;relexp&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reliten&quot;</span><span class="p">,</span>
    <span class="s2">&quot;relpersn&quot;</span><span class="p">,</span>
    <span class="s2">&quot;satfin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;satjob&quot;</span><span class="p">,</span>
    <span class="s2">&quot;savesoul&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sexeduc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;spanking&quot;</span><span class="p">,</span>
    <span class="s2">&quot;spkath&quot;</span><span class="p">,</span>
    <span class="s2">&quot;spkcom&quot;</span><span class="p">,</span>
    <span class="s2">&quot;spkhomo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;spkmil&quot;</span><span class="p">,</span>
    <span class="s2">&quot;spkmslm&quot;</span><span class="p">,</span>
    <span class="s2">&quot;spkrac&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sprtprsn&quot;</span><span class="p">,</span>
    <span class="s2">&quot;teensex&quot;</span><span class="p">,</span>
    <span class="s2">&quot;trust&quot;</span><span class="p">,</span>
    <span class="s2">&quot;union_&quot;</span><span class="p">,</span>
    <span class="s2">&quot;xmarsex&quot;</span><span class="p">,</span>
    <span class="s2">&quot;owngun&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pistol&quot;</span><span class="p">,</span>
    <span class="s2">&quot;attend&quot;</span><span class="p">,</span>
    <span class="s2">&quot;relactiv&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="nb">len</span><span class="p">(</span><span class="n">varnames</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>115
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.formula.api</span> <span class="k">as</span> <span class="nn">smf</span>


<span class="k">def</span> <span class="nf">find_questions</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find the questions with the biggest differences.</span>
<span class="sd">    </span>
<span class="sd">    Run logistic regression vs polviews,</span>
<span class="sd">    controlling for year and cohort,</span>
<span class="sd">    and sort by the parameter of polviews.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">varname</span> <span class="ow">in</span> <span class="n">varnames</span><span class="p">:</span>
        <span class="n">prepare_yvar</span><span class="p">(</span><span class="n">gss</span><span class="p">,</span> <span class="n">varname</span><span class="p">)</span>
        <span class="n">subset</span> <span class="o">=</span> <span class="n">gss</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="n">varname</span><span class="p">,</span> <span class="s2">&quot;polviews&quot;</span><span class="p">])</span>
        <span class="n">formula</span> <span class="o">=</span> <span class="s2">&quot;y ~ year + cohort + polviews&quot;</span>
        <span class="n">results</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">logit</span><span class="p">(</span><span class="n">formula</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">subset</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">param</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;polviews&quot;</span><span class="p">]</span>
        <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="nb">abs</span><span class="p">(</span><span class="n">param</span><span class="p">),</span> <span class="n">varname</span><span class="p">,</span> <span class="n">param</span><span class="p">))</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>


<span class="c1"># find_questions()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># identify the responses considered conservative</span>

<span class="n">convervative_values</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;abany&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="s2">&quot;homosex&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="s2">&quot;premarsx&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="s2">&quot;prayer&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="s2">&quot;natfare&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span>
    <span class="s2">&quot;grass&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="s2">&quot;natenvir&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>  <span class="c1"># about right or too much</span>
    <span class="s2">&quot;divlaw&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="s2">&quot;cappun&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="s2">&quot;racopen&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="s2">&quot;letdie1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="s2">&quot;fepol&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="s2">&quot;gunlaw&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="s2">&quot;sexeduc&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="s2">&quot;pornlaw&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
<span class="p">}</span>

<span class="nb">len</span><span class="p">(</span><span class="n">convervative_values</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">order</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;homosex&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cappun&quot;</span><span class="p">,</span>
    <span class="s2">&quot;grass&quot;</span><span class="p">,</span>
    <span class="s2">&quot;abany&quot;</span><span class="p">,</span>
    <span class="s2">&quot;prayer&quot;</span><span class="p">,</span>
    <span class="s2">&quot;premarsx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;divlaw&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natfare&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natenvir&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pornlaw&quot;</span><span class="p">,</span>
    <span class="s2">&quot;racopen&quot;</span><span class="p">,</span>
    <span class="s2">&quot;letdie1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fepol&quot;</span><span class="p">,</span>
    <span class="s2">&quot;gunlaw&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sexeduc&quot;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">questions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>

<span class="k">for</span> <span class="n">varname</span> <span class="ow">in</span> <span class="n">order</span><span class="p">:</span>
    <span class="n">questions</span><span class="p">[</span><span class="n">varname</span><span class="p">]</span> <span class="o">=</span> <span class="n">gss</span><span class="p">[</span><span class="n">varname</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">convervative_values</span><span class="p">[</span><span class="n">varname</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
    <span class="n">null</span> <span class="o">=</span> <span class="n">gss</span><span class="p">[</span><span class="n">varname</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span>
    <span class="n">questions</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">null</span><span class="p">,</span> <span class="n">varname</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="n">questions</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sexeduc     0.123340
gunlaw      0.250037
fepol       0.282195
letdie1     0.314927
pornlaw     0.363665
racopen     0.375597
natenvir    0.379655
natfare     0.467340
divlaw      0.490939
premarsx    0.533950
abany       0.583890
prayer      0.589122
grass       0.677196
homosex     0.695584
cappun      0.700537
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># none of these questions were retired early</span>

<span class="k">for</span> <span class="n">varname</span> <span class="ow">in</span> <span class="n">order</span><span class="p">:</span>
    <span class="n">last</span> <span class="o">=</span> <span class="n">gss</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="n">varname</span><span class="p">])[</span><span class="s2">&quot;year&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">varname</span><span class="p">,</span> <span class="n">last</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>homosex 2022
cappun 2022
grass 2022
abany 2022
prayer 2022
premarsx 2022
divlaw 2018
natfare 2022
natenvir 2022
pornlaw 2022
racopen 2022
letdie1 2022
fepol 2022
gunlaw 2022
sexeduc 2022
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">augmented</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">questions</span><span class="p">,</span> <span class="n">gss</span><span class="p">[</span><span class="s2">&quot;polviews3&quot;</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">augmented</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;polviews3&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">table</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>polviews3</th>
      <th>Conservative</th>
      <th>Liberal</th>
      <th>Moderate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>homosex</th>
      <td>80.092662</td>
      <td>52.337900</td>
      <td>69.696157</td>
    </tr>
    <tr>
      <th>cappun</th>
      <td>79.086744</td>
      <td>56.185338</td>
      <td>72.306497</td>
    </tr>
    <tr>
      <th>grass</th>
      <td>75.236948</td>
      <td>53.986284</td>
      <td>67.425543</td>
    </tr>
    <tr>
      <th>abany</th>
      <td>69.427806</td>
      <td>41.452613</td>
      <td>58.497102</td>
    </tr>
    <tr>
      <th>prayer</th>
      <td>66.719078</td>
      <td>43.253610</td>
      <td>61.895926</td>
    </tr>
    <tr>
      <th>premarsx</th>
      <td>64.186184</td>
      <td>38.025460</td>
      <td>51.221477</td>
    </tr>
    <tr>
      <th>divlaw</th>
      <td>58.510374</td>
      <td>38.257774</td>
      <td>48.055576</td>
    </tr>
    <tr>
      <th>natfare</th>
      <td>57.672645</td>
      <td>33.460116</td>
      <td>47.237803</td>
    </tr>
    <tr>
      <th>natenvir</th>
      <td>48.662821</td>
      <td>25.057568</td>
      <td>37.155963</td>
    </tr>
    <tr>
      <th>pornlaw</th>
      <td>43.918968</td>
      <td>24.732184</td>
      <td>35.467433</td>
    </tr>
    <tr>
      <th>racopen</th>
      <td>42.058961</td>
      <td>27.613412</td>
      <td>36.762226</td>
    </tr>
    <tr>
      <th>letdie1</th>
      <td>38.439965</td>
      <td>23.696370</td>
      <td>28.359148</td>
    </tr>
    <tr>
      <th>fepol</th>
      <td>32.729614</td>
      <td>20.872513</td>
      <td>27.501363</td>
    </tr>
    <tr>
      <th>gunlaw</th>
      <td>31.936266</td>
      <td>18.122198</td>
      <td>23.732719</td>
    </tr>
    <tr>
      <th>sexeduc</th>
      <td>18.406276</td>
      <td>7.037597</td>
      <td>9.610372</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">table</span><span class="p">[</span><span class="s2">&quot;Conservative&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">table</span><span class="p">[</span><span class="s2">&quot;Liberal&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sexeduc     11.368680
fepol       11.857101
gunlaw      13.814068
racopen     14.445549
letdie1     14.743595
pornlaw     19.186783
divlaw      20.252600
grass       21.250664
cappun      22.901406
prayer      23.465467
natenvir    23.605254
natfare     24.212529
premarsx    26.160724
homosex     27.754762
abany       27.975193
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">issue_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;abany&quot;</span><span class="p">:</span> <span class="s2">&quot;Abortion&quot;</span><span class="p">,</span>
    <span class="s2">&quot;homosex&quot;</span><span class="p">:</span> <span class="s2">&quot;Homosexuality&quot;</span><span class="p">,</span>
    <span class="s2">&quot;premarsx&quot;</span><span class="p">:</span> <span class="s2">&quot;Premarital sex&quot;</span><span class="p">,</span>
    <span class="s2">&quot;prayer&quot;</span><span class="p">:</span> <span class="s2">&quot;School prayer&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natfare&quot;</span><span class="p">:</span> <span class="s2">&quot;Welfare spending&quot;</span><span class="p">,</span>
    <span class="s2">&quot;grass&quot;</span><span class="p">:</span> <span class="s2">&quot;Legal cannabis&quot;</span><span class="p">,</span>
    <span class="s2">&quot;natenvir&quot;</span><span class="p">:</span> <span class="s2">&quot;Environment&quot;</span><span class="p">,</span>
    <span class="s2">&quot;divlaw&quot;</span><span class="p">:</span> <span class="s2">&quot;Divorce&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cappun&quot;</span><span class="p">:</span> <span class="s2">&quot;Capital punishment&quot;</span><span class="p">,</span>
    <span class="s2">&quot;racopen&quot;</span><span class="p">:</span> <span class="s2">&quot;Fair housing law&quot;</span><span class="p">,</span>
    <span class="s2">&quot;letdie1&quot;</span><span class="p">:</span> <span class="s2">&quot;Assisted suicide&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fepol&quot;</span><span class="p">:</span> <span class="s2">&quot;Women in politics&quot;</span><span class="p">,</span>
    <span class="s2">&quot;gunlaw&quot;</span><span class="p">:</span> <span class="s2">&quot;Gun law&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sexeduc&quot;</span><span class="p">:</span> <span class="s2">&quot;Sex education&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pornlaw&quot;</span><span class="p">:</span> <span class="s2">&quot;Pornography&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">issue_names</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">issue_dict</span><span class="p">)[</span><span class="n">order</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<p>For each question, I identified the responses more likely to be chosen by conservatives.
The following figure shows, for each question, the percentage of liberals, moderates, and conservatives who chose one of the conservative responses.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">figwidth</span> <span class="o">=</span> <span class="mf">3.835</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="n">figwidth</span><span class="p">,</span> <span class="mf">0.8</span><span class="o">*</span><span class="n">figwidth</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span>
    <span class="n">issue_names</span><span class="p">,</span>
    <span class="n">table</span><span class="p">[</span><span class="s2">&quot;Liberal&quot;</span><span class="p">],</span>
    <span class="n">table</span><span class="p">[</span><span class="s2">&quot;Conservative&quot;</span><span class="p">],</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">polviews</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">polview_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="n">polviews</span><span class="p">]</span>
    <span class="n">marker</span> <span class="o">=</span> <span class="n">marker_map</span><span class="p">[</span><span class="n">polviews</span><span class="p">]</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">issue_names</span><span class="p">,</span> <span class="n">marker</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">polviews</span><span class="p">)</span>

<span class="n">decorate</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Percent choosing conservative responses&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton3.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9c0979447f07a86a821f81d9ada6587c721c408769caa2fd46b01a78dbe1bf73.png" src="_images/9c0979447f07a86a821f81d9ada6587c721c408769caa2fd46b01a78dbe1bf73.png" />
</div>
</div>
<p>Not surprisingly, conservatives are more likely than liberals to choose conservative responses, and moderates are somewhere in the middle.
The differences between the groups range from 11 to 27 percentage points.</p>
<p>These results include respondents over the interval from 1973 to 2021, so they are not a snapshot of recent conditions.
Rather, they show the issues that have distinguished conservatives from liberals over the last 50 years.</p>
<p>Now let’s see if it’s true that older people hold more conservative views.
For each respondent, I computed the number of conservative responses they chose.</p>
<p>One difficulty is that not every respondent answered every question.
Some were surveyed before a particular question was added to the survey or after it was removed.
Also, in some years respondents were randomly assigned a “ballot” with subset of the questions.
Finally, a small percentage of respondents refuse to answer some questions, or say “I don’t know”.</p>
<p>To address this difficulty, I used a statistical model to estimate a degree of conservatism for each respondent, and to predict the number of conservative responses they would give if they were asked all fifteen questions.
To avoid extrapolating too far beyond the data, I selected only respondents who answered at least five of the fifteen questions, which is about 63,000 out of 68,000.</p>
<p>The following figure shows the average of these estimates, grouped by political alignment (conservative, moderate, or liberal) and plotted by age.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># some questions are &quot;easier&quot; than others; we can use the logit of the prevalence</span>
<span class="c1"># for each question to estimate its difficulty</span>

<span class="kn">from</span> <span class="nn">scipy.special</span> <span class="kn">import</span> <span class="n">logit</span>

<span class="n">means</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
<span class="n">difficulty</span> <span class="o">=</span> <span class="o">-</span><span class="n">logit</span><span class="p">(</span><span class="n">means</span><span class="p">)</span>
<span class="n">difficulty</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>homosex    -0.826358
cappun     -0.849855
grass      -0.740913
abany      -0.338762
prayer     -0.360336
premarsx   -0.136011
divlaw      0.036247
natfare     0.130828
natenvir    0.491012
pornlaw     0.559490
racopen     0.508279
letdie1     0.777186
fepol       0.933600
gunlaw      1.098417
sexeduc     1.961172
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># each respondent has an &quot;efficacy&quot; that represents their propensity to give</span>
<span class="c1"># conservative answers</span>

<span class="c1"># the range of difficulties dictates the useful part of the range of efficacies;</span>
<span class="c1"># for example, if we sweep from -6 to 6, we see the complete range of probabilities</span>
<span class="c1"># for questions in the relevant range of difficulty</span>


<span class="kn">from</span> <span class="nn">scipy.special</span> <span class="kn">import</span> <span class="n">expit</span>

<span class="n">xs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">21</span><span class="p">)</span>

<span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">expit</span><span class="p">(</span><span class="n">xs</span> <span class="o">-</span> <span class="n">d</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>

<span class="n">decorate</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Efficacy&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Probability of giving conservative answer&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9fb0ff97968f522f0cf730ca858b5c5ba4c7b109aa919d2cbe077729cda03a6a.png" src="_images/9fb0ff97968f522f0cf730ca858b5c5ba4c7b109aa919d2cbe077729cda03a6a.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># if we make a mesh with one row for each efficacy and one column for each question,</span>
<span class="c1"># we can make a mapping from each efficacy to the number of conservative answers we</span>
<span class="c1"># expect from a person with each efficacy</span>

<span class="n">X</span><span class="p">,</span> <span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">difficulty</span><span class="p">)</span>
<span class="n">P</span> <span class="o">=</span> <span class="n">expit</span><span class="p">(</span><span class="n">X</span> <span class="o">-</span> <span class="n">D</span><span class="p">)</span>
<span class="n">ns</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>

<span class="n">decorate</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Efficacy&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Number of conservative answers&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/3f0570c0dc6dc72dc41b3d1630aa7413f8e9fa31dcd03d51eeb8cad26c684ad9.png" src="_images/3f0570c0dc6dc72dc41b3d1630aa7413f8e9fa31dcd03d51eeb8cad26c684ad9.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># as a prior for efficacy, I&#39;ll use a wide Gaussian, which represents</span>
<span class="c1"># a gentle bias toward the middle of the range</span>

<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">norm</span>
<span class="kn">from</span> <span class="nn">empiricaldist</span> <span class="kn">import</span> <span class="n">Pmf</span>

<span class="n">ys</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">pdf</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">prior</span> <span class="o">=</span> <span class="n">Pmf</span><span class="p">(</span><span class="n">ys</span><span class="p">,</span> <span class="n">xs</span><span class="p">)</span>
<span class="n">prior</span><span class="o">.</span><span class="n">normalize</span><span class="p">()</span>
<span class="n">prior</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">decorate</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Efficacy&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Prior probability&quot;</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.08</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1e528a1cc0d0e659b7ef41ec449f901b32b698171fe8c5235d05b43093284d3f.png" src="_images/1e528a1cc0d0e659b7ef41ec449f901b32b698171fe8c5235d05b43093284d3f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># I&#39;ll use an arbitrary sample row to test the estimation process</span>

<span class="n">row</span> <span class="o">=</span> <span class="n">questions</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">5000</span><span class="p">]</span>
<span class="n">row</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>homosex     NaN
cappun      1.0
grass       0.0
abany       NaN
prayer      0.0
premarsx    1.0
divlaw      1.0
natfare     0.0
natenvir    1.0
pornlaw     0.0
racopen     1.0
letdie1     NaN
fepol       0.0
gunlaw      1.0
sexeduc     0.0
Name: 5034, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># compute the likelihood of true and false values</span>
<span class="c1"># one row per question</span>
<span class="c1"># one column per efficacy</span>

<span class="n">X</span><span class="p">,</span> <span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">difficulty</span><span class="p">)</span>
<span class="n">P</span> <span class="o">=</span> <span class="n">expit</span><span class="p">(</span><span class="n">X</span> <span class="o">-</span> <span class="n">D</span><span class="p">)</span>
<span class="n">Q</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">P</span>
<span class="n">Q</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(15, 21)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># here are the steps for the update</span>

<span class="c1"># compute the likelihoods of the conservative responses</span>
<span class="n">index1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nonzero</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">values</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">like1</span> <span class="o">=</span> <span class="n">P</span><span class="p">[</span><span class="n">index1</span><span class="p">]</span>

<span class="c1"># compute the likelihoods of the non-conservative responses</span>
<span class="n">index2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nonzero</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">values</span> <span class="o">==</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">like2</span> <span class="o">=</span> <span class="n">Q</span><span class="p">[</span><span class="n">index2</span><span class="p">]</span>

<span class="n">like</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">like1</span><span class="p">,</span> <span class="n">like2</span><span class="p">])</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># compute the normalized posterior distribution</span>
<span class="n">posterior</span> <span class="o">=</span> <span class="n">Pmf</span><span class="p">(</span><span class="n">prior</span><span class="o">.</span><span class="n">values</span> <span class="o">*</span> <span class="n">like</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
<span class="n">posterior</span><span class="o">.</span><span class="n">normalize</span><span class="p">()</span>
<span class="n">posterior</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">posterior</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">posterior</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(7.746546988198355, 1.9404648754849896)
</pre></div>
</div>
<img alt="_images/91b59b31337e3a38e0d2f0b8c061d83e951b5c65ce80d56627d81009f680779b.png" src="_images/91b59b31337e3a38e0d2f0b8c061d83e951b5c65ce80d56627d81009f680779b.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">estimate_conservatism</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute the posterior distribution of conservatism.</span>

<span class="sd">    row: pd.Series of True, False, or NaN, one per question</span>

<span class="sd">    returns: posterior mean and std of estimated conservatism</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">index1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nonzero</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">values</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">like1</span> <span class="o">=</span> <span class="n">P</span><span class="p">[</span><span class="n">index1</span><span class="p">]</span>

    <span class="n">index2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nonzero</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">values</span> <span class="o">==</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">like2</span> <span class="o">=</span> <span class="n">Q</span><span class="p">[</span><span class="n">index2</span><span class="p">]</span>

    <span class="n">like</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">like1</span><span class="p">,</span> <span class="n">like2</span><span class="p">])</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">posterior</span> <span class="o">=</span> <span class="n">Pmf</span><span class="p">(</span><span class="n">prior</span><span class="o">.</span><span class="n">values</span> <span class="o">*</span> <span class="n">like</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
    <span class="n">posterior</span><span class="o">.</span><span class="n">normalize</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">posterior</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">posterior</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%time res = questions.apply(estimate_conservatism, axis=1, result_type=&#39;expand&#39;)</span>
<span class="c1"># res.shape</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># mean, std = np.transpose(res.values)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># to eliminate the for loop, we can compute the results for all respondents</span>
<span class="c1"># with a single 3-D array: one row for each respondent, one column for each question,</span>
<span class="c1"># one page for each hypothetical value of efficacy</span>

<span class="n">n</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="n">questions</span><span class="o">.</span><span class="n">shape</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<span class="n">res</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(71618, 15, 21)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># now we can fill the array with the likelihoods of conservative and non-conservative</span>
<span class="c1"># responses; where there&#39;s a NaN, we fill in all 1</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">questions</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>
<span class="n">ii</span><span class="p">,</span> <span class="n">jj</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nonzero</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">res</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span> <span class="n">jj</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">Q</span><span class="p">[</span><span class="n">jj</span><span class="p">]</span>
<span class="n">ii</span><span class="p">,</span> <span class="n">jj</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nonzero</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">res</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span> <span class="n">jj</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">P</span><span class="p">[</span><span class="n">jj</span><span class="p">]</span>
<span class="n">ii</span><span class="p">,</span> <span class="n">jj</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nonzero</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">res</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span> <span class="n">jj</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># multiplying along the rows gives the likelihood of each row of responses,</span>
<span class="c1"># which we multiply by the prior probabilities</span>

<span class="n">product</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">prior</span><span class="o">.</span><span class="n">values</span>
<span class="n">product</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(71618, 21)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># normalize the rows to get a posterior distribution for each respondent</span>

<span class="n">posterior</span> <span class="o">=</span> <span class="n">product</span> <span class="o">/</span> <span class="n">product</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)[:,</span> <span class="kc">None</span><span class="p">]</span>
<span class="n">posterior</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(71618, 21)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># compute the means of the posterior distributions</span>

<span class="n">con</span> <span class="o">=</span> <span class="p">(</span><span class="n">posterior</span> <span class="o">*</span> <span class="n">ns</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">con</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(71618,)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># np.allclose(con, mean)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># and the variances of the posterior distributions</span>

<span class="n">deviations</span> <span class="o">=</span> <span class="n">ns</span> <span class="o">-</span> <span class="n">con</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">]</span>
<span class="n">var_con</span> <span class="o">=</span> <span class="p">(</span><span class="n">posterior</span> <span class="o">*</span> <span class="n">deviations</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">std_con</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">var_con</span><span class="p">)</span>
<span class="n">std_con</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(71618,)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># np.allclose(np.sqrt(var), std)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the estimated values are roughly Gaussian</span>

<span class="kn">from</span> <span class="nn">empiricaldist</span> <span class="kn">import</span> <span class="n">Cdf</span>

<span class="n">Cdf</span><span class="o">.</span><span class="n">from_seq</span><span class="p">(</span><span class="n">con</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: &gt;
</pre></div>
</div>
<img alt="_images/673daf8248aff363957c73eeb46cc37e0000d446a2ac02462ed6a8e62c7322fc.png" src="_images/673daf8248aff363957c73eeb46cc37e0000d446a2ac02462ed6a8e62c7322fc.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the posterior standard deviations show that for more respondents we have</span>
<span class="c1"># enough data to estimate the number of conservative responses with std less than 3</span>

<span class="n">Cdf</span><span class="o">.</span><span class="n">from_seq</span><span class="p">(</span><span class="n">std_con</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: &gt;
</pre></div>
</div>
<img alt="_images/39f5b85c0e18c63f10e26170ad8af03838284f838e526512558422d635178bd3.png" src="_images/39f5b85c0e18c63f10e26170ad8af03838284f838e526512558422d635178bd3.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">answered</span> <span class="o">=</span> <span class="n">questions</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">answered</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">90</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 5., 12.])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">answered</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.904283839258287
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gss</span><span class="p">[</span><span class="s2">&quot;conservatism&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="n">gss</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">gss</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">answered</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;conservatism&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">gss</span><span class="p">[</span><span class="s2">&quot;conservatism&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count    64763.000000
mean         6.833093
std          3.217315
min          0.494033
25%          4.524838
50%          6.838483
75%          9.302133
max         14.475336
Name: conservatism, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">series</span> <span class="o">=</span> <span class="n">gss</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;age&quot;</span><span class="p">)[</span><span class="s2">&quot;conservatism&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">make_lowess</span><span class="p">(</span><span class="n">series</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>18.0    5.550790
19.0    5.599471
20.0    5.648384
21.0    5.697544
22.0    5.746937
          ...   
85.0    8.524548
86.0    8.562649
87.0    8.600669
88.0    8.638592
89.0    8.676410
Length: 72, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">table</span> <span class="o">=</span> <span class="n">gss</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s2">&quot;polviews3&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;conservatism&quot;</span><span class="p">)</span>

<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Conservative&quot;</span><span class="p">,</span> <span class="s2">&quot;Moderate&quot;</span><span class="p">,</span> <span class="s2">&quot;Liberal&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
    <span class="n">plot_series_lowess</span><span class="p">(</span>
        <span class="n">table</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="n">line_map</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">polview_map</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="o">**</span><span class="n">options</span>
    <span class="p">)</span>

<span class="n">plot_series_lowess</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;overall&quot;</span><span class="p">)</span>

<span class="n">decorate</span><span class="p">(</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Age&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Conservative responses vs age, grouped by alignment&quot;</span><span class="p">,</span>
    <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower right&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton4.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f2014ebe3458cb4580932c49ebc28aefed4545bb21cbf743f683080755d66315.png" src="_images/f2014ebe3458cb4580932c49ebc28aefed4545bb21cbf743f683080755d66315.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_series_lowess</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

<span class="n">decorate</span><span class="p">(</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Age&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Conservative responses vs age&quot;</span><span class="p">,</span>
    <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower right&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton4.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9476bc5b6a94dafe6644e040eb31cd2c3fb0d6424f6f752f1a67a63ea4417425.png" src="_images/9476bc5b6a94dafe6644e040eb31cd2c3fb0d6424f6f752f1a67a63ea4417425.png" />
</div>
</div>
<p>The gray line shows the overall trend: older people hold more conservative views.
At age 18, the average number of conservative responses is 5.7 out of 15; at age 89, it is 8.7.
The lines for conservatives, moderates, and liberals show that the trend within the groups is the same as the trend between the groups.</p>
<p>However, as we have seen before, that doesn’t mean that people get more conservative as they get older.
The following figure shows conservatism as a function of age, again, but with respondents grouped by decade of birth.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xvarname</span> <span class="o">=</span> <span class="s2">&quot;age&quot;</span>
<span class="n">yvarname</span> <span class="o">=</span> <span class="s2">&quot;conservatism&quot;</span>
<span class="n">gvarname</span> <span class="o">=</span> <span class="s2">&quot;cohort10&quot;</span>
<span class="n">yvalue</span> <span class="o">=</span> <span class="s2">&quot;continuous&quot;</span>

<span class="n">params</span> <span class="o">=</span> <span class="n">run_subgroups</span><span class="p">(</span><span class="n">gss</span><span class="p">,</span> <span class="n">xvarname</span><span class="p">,</span> <span class="n">yvarname</span><span class="p">,</span> <span class="n">gvarname</span><span class="p">,</span> <span class="n">yvalue</span><span class="p">)</span>
<span class="n">params</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>param</th>
      <th>pvalue</th>
      <th>stderr</th>
      <th>conf_inf</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>all</th>
      <td>0.045242</td>
      <td>0.000000e+00</td>
      <td>0.000713</td>
      <td>[0.043844088801497254, 0.04663908798590554]</td>
    </tr>
    <tr>
      <th>1890</th>
      <td>-0.008260</td>
      <td>7.771757e-01</td>
      <td>0.029166</td>
      <td>[-0.06561936249845171, 0.04909885532839052]</td>
    </tr>
    <tr>
      <th>1900</th>
      <td>0.014340</td>
      <td>1.608961e-01</td>
      <td>0.010223</td>
      <td>[-0.005712165422156312, 0.03439157506483011]</td>
    </tr>
    <tr>
      <th>1910</th>
      <td>-0.008070</td>
      <td>1.634818e-01</td>
      <td>0.005790</td>
      <td>[-0.01942248209664968, 0.0032824724283858926]</td>
    </tr>
    <tr>
      <th>1920</th>
      <td>-0.005488</td>
      <td>1.383686e-01</td>
      <td>0.003703</td>
      <td>[-0.012748084620149699, 0.0017711709097031963]</td>
    </tr>
    <tr>
      <th>1930</th>
      <td>-0.018045</td>
      <td>1.637154e-10</td>
      <td>0.002819</td>
      <td>[-0.023570738301045863, -0.012520190611341795]</td>
    </tr>
    <tr>
      <th>1940</th>
      <td>-0.007827</td>
      <td>5.073957e-04</td>
      <td>0.002250</td>
      <td>[-0.012238273454453977, -0.0034156368123330286]</td>
    </tr>
    <tr>
      <th>1950</th>
      <td>-0.013393</td>
      <td>8.792671e-13</td>
      <td>0.001872</td>
      <td>[-0.017061860213908552, -0.009724006178443111]</td>
    </tr>
    <tr>
      <th>1960</th>
      <td>-0.024558</td>
      <td>1.649682e-24</td>
      <td>0.002397</td>
      <td>[-0.029256611867895754, -0.019858586277253714]</td>
    </tr>
    <tr>
      <th>1970</th>
      <td>-0.014033</td>
      <td>2.718640e-04</td>
      <td>0.003852</td>
      <td>[-0.02158421514632847, -0.006480801212967946]</td>
    </tr>
    <tr>
      <th>1980</th>
      <td>-0.053773</td>
      <td>5.457156e-15</td>
      <td>0.006856</td>
      <td>[-0.06721450048087566, -0.0403314325165424]</td>
    </tr>
    <tr>
      <th>1990</th>
      <td>-0.079782</td>
      <td>5.391141e-07</td>
      <td>0.015877</td>
      <td>[-0.1109156917756149, -0.04864820393229659]</td>
    </tr>
    <tr>
      <th>2000</th>
      <td>-0.102718</td>
      <td>2.636466e-01</td>
      <td>0.091786</td>
      <td>[-0.28306464087853, 0.07762816396734212]</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">summarize_params</span><span class="p">(</span><span class="n">params</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Print a summary of the number of groups</span>
<span class="sd">    with positive or negative slope.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of groups&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">params</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">sig</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:][</span><span class="s2">&quot;pvalue&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.02</span>
    <span class="n">neg</span> <span class="o">=</span> <span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:][</span><span class="s2">&quot;param&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">sig</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:][</span><span class="s2">&quot;param&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">sig</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;# neg, #pos&quot;</span><span class="p">,</span> <span class="n">neg</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">pos</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">summarize_params</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of groups 12
# neg, #pos 7 0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">table</span> <span class="o">=</span> <span class="n">make_table</span><span class="p">(</span><span class="n">gss</span><span class="p">,</span> <span class="n">xvarname</span><span class="p">,</span> <span class="n">yvarname</span><span class="p">,</span> <span class="n">gvarname</span><span class="p">,</span> <span class="n">yvalue</span><span class="p">)</span>
<span class="n">series</span> <span class="o">=</span> <span class="n">chunk_series</span><span class="p">(</span><span class="n">gss</span><span class="p">,</span> <span class="n">xvarname</span><span class="p">)</span>

<span class="n">visualize_table</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">table</span><span class="p">,</span> <span class="n">frac</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">label_table</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">frac</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>

<span class="n">decorate</span><span class="p">(</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Age&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Conservative responses vs age, grouped by decade of birth&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton5.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9d0d600de001ce4316a7bc1384e76a67279f44f4e2d522307bea42c841d5cd85.png" src="_images/9d0d600de001ce4316a7bc1384e76a67279f44f4e2d522307bea42c841d5cd85.png" />
</div>
</div>
<p>Almost every birth cohort became more liberal with age.
Some of the oldest cohorts were essentially unchanged.
None became more conservative.</p>
<p>In several cohorts we see a similar pattern – a relatively fast increase followed by a slower decrease – but the inflection point does not appear at the same age in different groups, so that does not suggest an age effect.</p>
</section>
<section id="how-can-this-be">
<h2>How Can This Be?<a class="headerlink" href="#how-can-this-be" title="Permalink to this heading">#</a></h2>
<p>By now you have probably figured out that part of the explanation is Simpson’s paradox.
Older respondents are more likely to come from earlier generations, which were more conservative; younger respondents are more likely to come from recent generations, which are more liberal.</p>
<p>That explains why older people are more conservative, but people don’t become more conservative as they age.
The apparent increase is a cohort effect, not an age effect.</p>
<p>But that doesn’t explain why people are more likely to <em>consider</em> themselves conservative even as, on average, they become more liberal.
The explanation I propose has three pieces:</p>
<ul class="simple">
<li><p>First, the center of public opinion has moved toward liberalism over the last 50 years, primarily due to a cohort effect and secondarily due to a period effect.</p></li>
<li><p>Second, “liberal” and “conservative” are relative terms. If someone’s views are left of center, they are more likely to call themselves liberal. If their views are right of center, they are more likely to call themselves conservative. Either way, the label they choose depends on where they think the center is.</p></li>
<li><p>Third, over the last 50 years both liberals and conservatives have become more liberal. As a result, conservatives are about as liberal now as liberals were in the 1970s.</p></li>
</ul>
<p>Putting these pieces together, the consequence is that someone considered liberal in the 1970s would be considered conservative in the 2010s.
So someone considered liberal in their youth, and who becomes more liberal over time, might nevertheless be considered – and identify as – more conservative as they age.</p>
<p>Let’s consider these points one at a time.</p>
</section>
<section id="the-center-does-not-hold">
<h2>The Center Does Not Hold<a class="headerlink" href="#the-center-does-not-hold" title="Permalink to this heading">#</a></h2>
<p>In the last 50 years, the Overton window has shifted toward liberalism.
The following figure shows how the answers to my fifteen questions have changed over time.
Each circle represents the actual average for a group of 2000 respondents.
The dotted line shows a smooth curve fitted to the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xvarname</span> <span class="o">=</span> <span class="s2">&quot;year&quot;</span>
<span class="n">yvarname</span> <span class="o">=</span> <span class="s2">&quot;conservatism&quot;</span>
<span class="n">gvarname</span> <span class="o">=</span> <span class="s2">&quot;cohort10&quot;</span>
<span class="n">yvalue</span> <span class="o">=</span> <span class="s2">&quot;continuous&quot;</span>

<span class="n">prepare_yvar</span><span class="p">(</span><span class="n">gss</span><span class="p">,</span> <span class="n">yvarname</span><span class="p">,</span> <span class="n">yvalue</span><span class="p">)</span>
<span class="n">series_conservatism</span> <span class="o">=</span> <span class="n">chunk_series</span><span class="p">(</span><span class="n">gss</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">2000</span><span class="p">)</span>
<span class="n">smooth</span> <span class="o">=</span> <span class="n">make_lowess</span><span class="p">(</span><span class="n">series_conservatism</span><span class="p">)</span>
<span class="n">smooth</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1973.2640    7.964162
1974.5275    7.936313
1975.8320    7.905931
1977.2845    7.870442
1979.0470    7.825815
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">smooth</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2018.0000    5.447441
2020.5605    5.217721
2021.0435    5.174298
2022.0000    5.088276
2022.0000    5.088276
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_series_lowess</span><span class="p">(</span>
    <span class="n">series_conservatism</span><span class="p">,</span> <span class="n">plot_series</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;C0&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="p">)</span>
<span class="n">decorate</span><span class="p">(</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Year of survey&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Conservative responses vs year&quot;</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton6.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5bdcc626a578248234bb02335422a2f9a761b110e53e8bea3b1f36571ef7e1a1.png" src="_images/5bdcc626a578248234bb02335422a2f9a761b110e53e8bea3b1f36571ef7e1a1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gss</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span>
<span class="n">over_time</span> <span class="o">=</span> <span class="n">questions</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;year&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">over_time</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;C0&#39;</span> <span class="k">if</span> <span class="n">column</span> <span class="o">==</span> <span class="s1">&#39;gunlaw&#39;</span> <span class="k">else</span> <span class="s1">&#39;C0&#39;</span>
    <span class="n">plot_series_lowess</span><span class="p">(</span><span class="n">over_time</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">decorate</span><span class="p">(</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Year of survey&quot;</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Percent&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Conservative responses vs year, all questions&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;overton12.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/51a5393c61366e442160d780db622f84f457c58cd4d0a49aadf395c1a8f49041.png" src="_images/51a5393c61366e442160d780db622f84f457c58cd4d0a49aadf395c1a8f49041.png" />
</div>
</div>
<p>The average number of conservative responses has decreased.
In 1973, the average respondent chose a conservative response to 8.1 out of 15 questions; in 2021, it had fallen to 5.3.</p>
<p>Also, contrary to what you might have heard, there is no evidence that this trend has slowed or reversed recently.
If anything, it might be accelerating.</p>
<p>To see whether this trend is driven primarily by period or cohort effects, consider the following graph, which shows conservatism grouped by decade of birth and plotted over time:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="n">run_subgroups</span><span class="p">(</span><span class="n">gss</span><span class="p">,</span> <span class="n">xvarname</span><span class="p">,</span> <span class="n">yvarname</span><span class="p">,</span> <span class="n">gvarname</span><span class="p">,</span> <span class="n">yvalue</span><span class="p">)</span>
<span class="n">params</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>param</th>
      <th>pvalue</th>
      <th>stderr</th>
      <th>conf_inf</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>all</th>
      <td>-0.060046</td>
      <td>0.000000e+00</td>
      <td>0.000810</td>
      <td>[-0.0616338692030601, -0.05845832433589634]</td>
    </tr>
    <tr>
      <th>1890</th>
      <td>0.006521</td>
      <td>8.352848e-01</td>
      <td>0.031339</td>
      <td>[-0.055111160407584917, 0.06815310292222276]</td>
    </tr>
    <tr>
      <th>1900</th>
      <td>0.010204</td>
      <td>3.482404e-01</td>
      <td>0.010875</td>
      <td>[-0.011127785852057466, 0.031536033512160735]</td>
    </tr>
    <tr>
      <th>1910</th>
      <td>-0.010026</td>
      <td>8.696829e-02</td>
      <td>0.005856</td>
      <td>[-0.021507623932094377, 0.0014555531383477743]</td>
    </tr>
    <tr>
      <th>1920</th>
      <td>-0.012021</td>
      <td>1.235455e-03</td>
      <td>0.003719</td>
      <td>[-0.019312011107820964, -0.004730199677379041]</td>
    </tr>
    <tr>
      <th>1930</th>
      <td>-0.020335</td>
      <td>8.678576e-13</td>
      <td>0.002838</td>
      <td>[-0.02589925330900738, -0.014771106787142057]</td>
    </tr>
    <tr>
      <th>1940</th>
      <td>-0.013159</td>
      <td>8.406666e-09</td>
      <td>0.002283</td>
      <td>[-0.0176338405565886, -0.008685036147207037]</td>
    </tr>
    <tr>
      <th>1950</th>
      <td>-0.014347</td>
      <td>1.985560e-14</td>
      <td>0.001873</td>
      <td>[-0.01801784232305387, -0.01067556706725568]</td>
    </tr>
    <tr>
      <th>1960</th>
      <td>-0.025703</td>
      <td>7.812367e-27</td>
      <td>0.002390</td>
      <td>[-0.030387391596911083, -0.02101821559943505]</td>
    </tr>
    <tr>
      <th>1970</th>
      <td>-0.019178</td>
      <td>4.130724e-07</td>
      <td>0.003784</td>
      <td>[-0.02659613821050341, -0.011759451161761476]</td>
    </tr>
    <tr>
      <th>1980</th>
      <td>-0.069334</td>
      <td>2.617168e-23</td>
      <td>0.006932</td>
      <td>[-0.08292410825775508, -0.055743434405766165]</td>
    </tr>
    <tr>
      <th>1990</th>
      <td>-0.124754</td>
      <td>1.002521e-14</td>
      <td>0.016022</td>
      <td>[-0.1561728640598051, -0.0933356074676211]</td>
    </tr>
    <tr>
      <th>2000</th>
      <td>-0.214025</td>
      <td>6.167401e-02</td>
      <td>0.114270</td>
      <td>[-0.4385513398475513, 0.010501302179177607]</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">summarize_params</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of groups 12
# neg, #pos 8 0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cohort_table</span> <span class="o">=</span> <span class="n">make_table</span><span class="p">(</span><span class="n">gss</span><span class="p">,</span> <span class="n">xvarname</span><span class="p">,</span> <span class="n">yvarname</span><span class="p">,</span> <span class="n">gvarname</span><span class="p">,</span> <span class="n">yvalue</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#figwidth = 3.835</span>
<span class="c1">#plt.figure(figsize=(figwidth, 0.5*figwidth))</span>

<span class="n">visualize_table</span><span class="p">(</span><span class="n">series_conservatism</span><span class="p">,</span> <span class="n">cohort_table</span><span class="p">)</span>
<span class="n">nudge</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;1940s&quot;</span><span class="p">:</span> <span class="mf">0.085</span><span class="p">,</span>
    <span class="s2">&quot;1950s&quot;</span><span class="p">:</span> <span class="mf">0.32</span><span class="p">,</span>
    <span class="s2">&quot;1960s&quot;</span><span class="p">:</span> <span class="mf">0.04</span><span class="p">,</span>
    <span class="s2">&quot;1970s&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.25</span><span class="p">,</span>
    <span class="s2">&quot;1980s&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.15</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">label_table</span><span class="p">(</span><span class="n">cohort_table</span><span class="p">,</span> <span class="n">nudge</span><span class="p">)</span>

<span class="n">decorate</span><span class="p">(</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Year of survey&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Conservative responses vs year, grouped by decade of birth&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton7.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ac66889732c349382b012d252ac14ade947c7054f506117f1349a13c58072742.png" src="_images/ac66889732c349382b012d252ac14ade947c7054f506117f1349a13c58072742.png" />
</div>
</div>
<p>There is clearly a cohort effect: almost every birth cohort is more liberal than the one before it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">gss</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;year &lt; 1980&quot;</span><span class="p">)[</span><span class="s2">&quot;sexeduc&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.19458467186782927
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">gss</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;year &gt;= 2010&quot;</span><span class="p">)[</span><span class="s2">&quot;sexeduc&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.0946515397082658
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">gss</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;cohort10 &gt; 1980&quot;</span><span class="p">)[</span><span class="s2">&quot;sexeduc&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.061620572537603106
</pre></div>
</div>
</div>
</div>
<p>If there is also period effect, we expect to see all groups moving up and down at the same time.
And it looks like they did: several cohorts trended toward conservative before 1990 and toward liberal after.
But the net change in most groups is small, so it seems like most of the change we’ve seen is due to the cohort effect, not the period effect.</p>
<p>To quantify that conclusion, we can run counterfactual models as we did in the previous chapter with attitudes toward homosexuality.
In that example, we found that the cohort effect accounted for about one third of the change, and the period effect the other two thirds.</p>
<p>The following figure shows the actual change in conservatism over the last 50 years and two counterfactual models: one with the period effect only and one with the cohort effect only.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="nb">dict</span><span class="p">(</span>
        <span class="n">y</span><span class="o">=</span><span class="n">gss</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">],</span>
        <span class="n">cohort</span><span class="o">=</span><span class="n">gss</span><span class="p">[</span><span class="s2">&quot;cohort&quot;</span><span class="p">],</span>
        <span class="n">year</span><span class="o">=</span><span class="n">gss</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">],</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">data</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>y</th>
      <th>cohort</th>
      <th>year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>72385</th>
      <td>4.134341</td>
      <td>1990.0</td>
      <td>2022</td>
    </tr>
    <tr>
      <th>72386</th>
      <td>4.886251</td>
      <td>1993.0</td>
      <td>2022</td>
    </tr>
    <tr>
      <th>72387</th>
      <td>8.791307</td>
      <td>1970.0</td>
      <td>2022</td>
    </tr>
    <tr>
      <th>72388</th>
      <td>7.653601</td>
      <td>1939.0</td>
      <td>2022</td>
    </tr>
    <tr>
      <th>72389</th>
      <td>4.230964</td>
      <td>1967.0</td>
      <td>2022</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.formula.api</span> <span class="k">as</span> <span class="nn">smf</span>

<span class="n">formula</span> <span class="o">=</span> <span class="s2">&quot;y ~ year + cohort&quot;</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="n">formula</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">results</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>            <td>y</td>        <th>  R-squared:         </th>  <td>   0.148</td>  
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th>  <td>   0.148</td>  
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th>  <td>   5647.</td>  
</tr>
<tr>
  <th>Date:</th>             <td>Sat, 06 Jan 2024</td> <th>  Prob (F-statistic):</th>   <td>  0.00</td>   
</tr>
<tr>
  <th>Time:</th>                 <td>08:57:45</td>     <th>  Log-Likelihood:    </th> <td>-1.6237e+05</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td> 64763</td>      <th>  AIC:               </th>  <td>3.247e+05</td> 
</tr>
<tr>
  <th>Df Residuals:</th>          <td> 64760</td>      <th>  BIC:               </th>  <td>3.248e+05</td> 
</tr>
<tr>
  <th>Df Model:</th>              <td>     2</td>      <th>                     </th>      <td> </td>     
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>      <td> </td>     
</tr>
</table>
<table class="simpletable">
<tr>
      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th> <td>  133.6676</td> <td>    1.558</td> <td>   85.785</td> <td> 0.000</td> <td>  130.614</td> <td>  136.722</td>
</tr>
<tr>
  <th>year</th>      <td>   -0.0149</td> <td>    0.001</td> <td>  -14.968</td> <td> 0.000</td> <td>   -0.017</td> <td>   -0.013</td>
</tr>
<tr>
  <th>cohort</th>    <td>   -0.0497</td> <td>    0.001</td> <td>  -73.117</td> <td> 0.000</td> <td>   -0.051</td> <td>   -0.048</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>811.905</td> <th>  Durbin-Watson:     </th> <td>   1.998</td> 
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td> 528.215</td> 
</tr>
<tr>
  <th>Skew:</th>          <td> 0.080</td>  <th>  Prob(JB):          </th> <td>1.99e-115</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 2.588</td>  <th>  Cond. No.          </th> <td>3.73e+05</td> 
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 3.73e+05. This might indicate that there are<br/>strong multicollinearity or other numerical problems.</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;cohort&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">results</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.343188018682335
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;predict&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">pred</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;year&quot;</span><span class="p">)[</span><span class="s2">&quot;predict&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="mi">1972</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;year==1972&quot;</span><span class="p">)[</span><span class="s2">&quot;cohort&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">b0</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">b2</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">params</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">utils</span> <span class="kn">import</span> <span class="n">make_counterfact</span>

<span class="n">inter</span> <span class="o">=</span> <span class="n">b0</span> <span class="o">+</span> <span class="n">b1</span> <span class="o">*</span> <span class="n">y</span>
<span class="n">cohort_only</span> <span class="o">=</span> <span class="n">make_counterfact</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">inter</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">error_func</span><span class="p">(</span><span class="n">inter</span><span class="p">):</span>
    <span class="n">period_only</span> <span class="o">=</span> <span class="n">make_counterfact</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="s2">&quot;cohort&quot;</span><span class="p">,</span> <span class="n">inter</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">period_only</span><span class="p">[</span><span class="n">y</span><span class="p">]</span> <span class="o">-</span> <span class="n">pred</span><span class="p">[</span><span class="n">y</span><span class="p">]</span>

<span class="n">g0</span> <span class="o">=</span> <span class="n">b0</span> <span class="o">+</span> <span class="n">b2</span> <span class="o">*</span> <span class="n">c</span>
<span class="n">error_func</span><span class="p">(</span><span class="n">g0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7.105427357601002e-15
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># g0 = b0 + b2 * c</span>
<span class="c1"># inter = fsolve(error_func, g0)</span>
<span class="n">inter</span> <span class="o">=</span> <span class="n">g0</span>
<span class="n">period_only</span> <span class="o">=</span> <span class="n">make_counterfact</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="s2">&quot;cohort&quot;</span><span class="p">,</span> <span class="n">inter</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">series_conservatism</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;C0&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Data&quot;</span><span class="p">)</span>
<span class="n">period_only</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ls</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;C1&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Period only&quot;</span><span class="p">)</span>
<span class="n">cohort_only</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ls</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;C2&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Cohort only&quot;</span><span class="p">)</span>
<span class="n">pred</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;C0&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Both&quot;</span><span class="p">)</span>

<span class="n">decorate</span><span class="p">(</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Year of survey&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Conservative responses vs year, with counterfactual models&quot;</span><span class="p">,</span>
    <span class="n">ylim</span><span class="o">=</span><span class="p">[</span><span class="mf">4.5</span><span class="p">,</span> <span class="mf">8.5</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton8.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/084d58e22f5e46cb61df46f3f608b644e6818a0884d0bbbd75e9037635790333.png" src="_images/084d58e22f5e46cb61df46f3f608b644e6818a0884d0bbbd75e9037635790333.png" />
</div>
</div>
<p>The the cohort effect is about five times bigger than the period effect, which means that the observed changes are due primarily to generational replacement, and only secondarily to changed minds.</p>
</section>
<section id="everything-is-relative">
<h2>Everything is Relative<a class="headerlink" href="#everything-is-relative" title="Permalink to this heading">#</a></h2>
<p>So again, if people are actually becoming more liberal, why do they think they are getting more conservative?</p>
<p>The second part of the explanation is that people classify their political views relative to the perceived center.
As evidence, consider the following figure, which shows the percentage of people who identify as moderate, conservative, or liberal over time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xtab</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">gss</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">],</span> <span class="n">gss</span><span class="p">[</span><span class="s2">&quot;polviews3&quot;</span><span class="p">],</span> <span class="n">normalize</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Moderate&quot;</span><span class="p">,</span> <span class="s2">&quot;Conservative&quot;</span><span class="p">,</span> <span class="s2">&quot;Liberal&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
    <span class="n">plot_series_lowess</span><span class="p">(</span>
        <span class="n">xtab</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="n">line_map</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">polview_map</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="o">**</span><span class="n">options</span>
    <span class="p">)</span>

<span class="n">decorate</span><span class="p">(</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Year of survey&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Political alignment vs year&quot;</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Percent&quot;</span><span class="p">,</span>
    <span class="n">ylim</span><span class="o">=</span><span class="p">[</span><span class="mi">16</span><span class="p">,</span> <span class="mi">45</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton9.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/3ee1e58ab9daeec66237c0d2b9f3ab331630bacf51e73ef12aa7912a86fedb4c.png" src="_images/3ee1e58ab9daeec66237c0d2b9f3ab331630bacf51e73ef12aa7912a86fedb4c.png" />
</div>
</div>
<p>The percentage of people who identify as “Moderate” has barely changed in 50 years.</p>
<p>During the 1980s, the percentage of conservatives increased and the percentage of liberals declined.
I conjecture that these changes are the result of negative connotations that were assigned to the word “liberal” during the Reagan Era.
Many left-of-center politicians avoided using the word for decades; GSS respondents might have been reluctant to identify with the word, even if their views were actually left of center.</p>
<p>Despite all that, the responses are remarkably stable over time.
These results suggest that the label people choose for themselves depends primarily on how they compare their views to the center of public opinion, and maybe secondarily on the connotations of the labels.</p>
</section>
<section id="are-we-more-polarized">
<h2>Are we more polarized?<a class="headerlink" href="#are-we-more-polarized" title="Permalink to this heading">#</a></h2>
<p>The third part of the explanation is that conservatives, moderates, and liberals have all become more liberal over time.
In current commentary, it is often taken for granted that politics in the U.S. have become more polarized.
If we take that to mean that conservatives are becoming more conservative, and liberals more liberal, that turns out not to be true.</p>
<p>The following figure shows conservatism over time, grouped by political alignment.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="n">run_subgroups</span><span class="p">(</span><span class="n">gss</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;conservatism&quot;</span><span class="p">,</span> <span class="s2">&quot;polviews3&quot;</span><span class="p">,</span> <span class="s2">&quot;continuous&quot;</span><span class="p">)</span>
<span class="n">params</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>param</th>
      <th>pvalue</th>
      <th>stderr</th>
      <th>conf_inf</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>all</th>
      <td>-0.060046</td>
      <td>0.000000e+00</td>
      <td>0.000810</td>
      <td>[-0.0616338692030601, -0.05845832433589634]</td>
    </tr>
    <tr>
      <th>Conservative</th>
      <td>-0.036411</td>
      <td>2.112215e-142</td>
      <td>0.001422</td>
      <td>[-0.03919825644645624, -0.03362424192561849]</td>
    </tr>
    <tr>
      <th>Liberal</th>
      <td>-0.076986</td>
      <td>0.000000e+00</td>
      <td>0.001502</td>
      <td>[-0.07993025014500976, -0.07404260497230425]</td>
    </tr>
    <tr>
      <th>Moderate</th>
      <td>-0.066705</td>
      <td>0.000000e+00</td>
      <td>0.001244</td>
      <td>[-0.06914408750464808, -0.06426599477729385]</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">table</span> <span class="o">=</span> <span class="n">gss</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s2">&quot;polviews3&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;conservatism&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">con</span> <span class="o">=</span> <span class="n">make_lowess</span><span class="p">(</span><span class="n">table</span><span class="p">[</span><span class="s1">&#39;Conservative&#39;</span><span class="p">])</span>
<span class="n">lib</span> <span class="o">=</span> <span class="n">make_lowess</span><span class="p">(</span><span class="n">table</span><span class="p">[</span><span class="s1">&#39;Liberal&#39;</span><span class="p">])</span>
<span class="n">diff</span> <span class="o">=</span> <span class="n">con</span> <span class="o">-</span> <span class="n">lib</span>
<span class="n">diff</span><span class="p">[</span><span class="mi">1974</span><span class="p">],</span> <span class="n">diff</span><span class="p">[</span><span class="mi">2021</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(2.4730099087783772, 3.8937716805319544)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">column</span><span class="p">,</span> <span class="n">series</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">smooth</span> <span class="o">=</span> <span class="n">make_lowess</span><span class="p">(</span><span class="n">series</span><span class="p">)</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">smooth</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">smooth</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">diff</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Conservative -1.9355466630545317
Liberal -3.4266655507829293
Moderate -3.2730804048192903
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Conservative&quot;</span><span class="p">,</span> <span class="s2">&quot;Moderate&quot;</span><span class="p">,</span> <span class="s2">&quot;Liberal&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
    <span class="n">plot_series_lowess</span><span class="p">(</span>
        <span class="n">table</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="n">line_map</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">polview_map</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="o">**</span><span class="n">options</span>
    <span class="p">)</span>

<span class="n">decorate</span><span class="p">(</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Year of survey&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Conservative responses vs year, grouped by alignment&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton10a.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0d03d0726f438f4d2f72c6eae25dcef38e573a0db6c9660c69820da5cd2faf07.png" src="_images/0d03d0726f438f4d2f72c6eae25dcef38e573a0db6c9660c69820da5cd2faf07.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Conservative&quot;</span><span class="p">,</span> <span class="s2">&quot;Moderate&quot;</span><span class="p">,</span> <span class="s2">&quot;Liberal&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
    <span class="n">plot_series_lowess</span><span class="p">(</span>
        <span class="n">table</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="n">line_map</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">polview_map</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="o">**</span><span class="n">options</span>
    <span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="mf">6.8</span><span class="p">,</span> <span class="mi">1974</span><span class="p">,</span> <span class="mi">2021</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">decorate</span><span class="p">(</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Year of survey&quot;</span><span class="p">,</span> 
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Conservative responses vs year, grouped by alignment&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton10b.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ad27d3e61d01cf16a99bec01e0de41c79f408db5805c44c571bf1a06bc2ba225.png" src="_images/ad27d3e61d01cf16a99bec01e0de41c79f408db5805c44c571bf1a06bc2ba225.png" />
</div>
</div>
<p>All three groups have become more liberal; however, the slopes of the lines are somewhat different.
Over this interval, conservatives have become more liberal by about 1.9 responses, on average, moderates by 3.2, and liberals by 3.4.
That’s a kind of polarization in the sense that the groups moved farther apart, but not in the sense that they are moving in opposite directions.</p>
<p>Also, the magnitude of the divergence is modest.
If civil discourse was possible in 1973, when conservatives and liberals disagreed about 2.5 questions, on average, it should be possible now, when they disagree about 3.7.</p>
</section>
<section id="chasing-overton">
<h2>Chasing Overton<a class="headerlink" href="#chasing-overton" title="Permalink to this heading">#</a></h2>
<p>Now we are ready to put the pieces of the explanation together.
In the previous figure, the horizontal line is at 6.8 responses, which was the expected level of conservatism in 1974 among people who called themselves liberal.</p>
<p>Suppose you take a time machine back to 1974, find an average liberal, and bring them to the turn of the millennium.
Based on their responses to the fifteen questions, they would be indistinguishable from the average moderate in 2000.
And if you bring them to 2021, their quaint 1970s liberalism would be almost as conservative as the average conservative.</p>
<p>In 1974, they were left of center, and would probably identify as liberal.
In 2021, they would find themselves considerably right of center, and would probably identify as conservative.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_lowess</span><span class="p">(</span><span class="n">table</span><span class="p">[</span><span class="s2">&quot;Moderate&quot;</span><span class="p">])[</span><span class="mi">2000</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6.761093967503579
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_lowess</span><span class="p">(</span><span class="n">table</span><span class="p">[</span><span class="s2">&quot;Conservative&quot;</span><span class="p">])[</span><span class="mi">2021</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6.985503511703538
</pre></div>
</div>
</div>
</div>
<p>This time machine scenario is almost precisely what happened to people born in the 1940s.
The following figure is the same as the previous one, except that the solid line shows average conservatism for people born in the 1940s.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_overton</span><span class="p">(</span><span class="n">cohort_table</span><span class="p">,</span> <span class="n">cohort</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot conservative responses by year, grouped by alignment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Conservative&quot;</span><span class="p">,</span> <span class="s2">&quot;Moderate&quot;</span><span class="p">,</span> <span class="s2">&quot;Liberal&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
        <span class="n">plot_series_lowess</span><span class="p">(</span>
            <span class="n">table</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="n">line_map</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">polview_map</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="o">**</span><span class="n">options</span>
        <span class="p">)</span>

    <span class="n">plot_series_lowess</span><span class="p">(</span><span class="n">cohort_table</span><span class="p">[</span><span class="n">cohort</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">cohort</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
    <span class="n">decorate</span><span class="p">(</span>
        <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Year of survey&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Conservative responses vs year, grouped by alignment&quot;</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">table</span> <span class="o">=</span> <span class="n">gss</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s2">&quot;polviews3&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;conservatism&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_overton</span><span class="p">(</span><span class="n">cohort_table</span><span class="p">,</span> <span class="n">cohort</span><span class="o">=</span><span class="mi">1940</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton11.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/bd3dce1291678d661f0a1fd214d5fac14a2b783c21ce90bce5737c8be7087f16.png" src="_images/bd3dce1291678d661f0a1fd214d5fac14a2b783c21ce90bce5737c8be7087f16.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_overton</span><span class="p">(</span><span class="n">cohort_table</span><span class="p">,</span> <span class="n">cohort</span><span class="o">=</span><span class="mi">1950</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton11a.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/60b9cc6c6625f8eb68018f5de7f6a6b3d7d70edfde434aa755a7a3fcc2729019.png" src="_images/60b9cc6c6625f8eb68018f5de7f6a6b3d7d70edfde434aa755a7a3fcc2729019.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_overton</span><span class="p">(</span><span class="n">cohort_table</span><span class="p">,</span> <span class="n">cohort</span><span class="o">=</span><span class="mi">1960</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton11b.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/33f8db2e07f69136b5c35d2c590cf9ff6383399348518af22109a0d8b4fadce4.png" src="_images/33f8db2e07f69136b5c35d2c590cf9ff6383399348518af22109a0d8b4fadce4.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_overton</span><span class="p">(</span><span class="n">cohort_table</span><span class="p">,</span> <span class="n">cohort</span><span class="o">=</span><span class="mi">1970</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton11c.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/134795cf0bf250bfcf1d3efbabd1c68c7fc1601dbf2cf9fa3cbd5d9e5a2d1c39.png" src="_images/134795cf0bf250bfcf1d3efbabd1c68c7fc1601dbf2cf9fa3cbd5d9e5a2d1c39.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_overton</span><span class="p">(</span><span class="n">cohort_table</span><span class="p">,</span> <span class="n">cohort</span><span class="o">=</span><span class="mi">1980</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton11d.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/78f70b9c90f5a255bd1de16083326d1efab2d9fb089d664d7060bf4fd1d9f4bc.png" src="_images/78f70b9c90f5a255bd1de16083326d1efab2d9fb089d664d7060bf4fd1d9f4bc.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_overton</span><span class="p">(</span><span class="n">cohort_table</span><span class="p">,</span> <span class="n">cohort</span><span class="o">=</span><span class="mi">1990</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;overton11e.jpg&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c2581df79a1bf2830dd351f667659096e1986cf3500a1f79a8ac4ee59310ca40.png" src="_images/c2581df79a1bf2830dd351f667659096e1986cf3500a1f79a8ac4ee59310ca40.png" />
</div>
</div>
<p>In the 1970s, when they were in their 30s, they were almost as liberal, on average, as the people who identified as liberal.</p>
<p>Over their lives, they trended toward conservative until 1990, reversed toward liberal after, and ended up a little left of where they started.
Meanwhile, the world around them changed.</p>
<p>In the 1990s, when they were in their 50s, they became indistinguishable from the people around them who identified as moderate.</p>
<p>And in the 2010s, when they were in their 70s, they found – to their surprise and often dismay – that they were almost as conservative, on average, as people who identified as conservative.</p>
<p>Abe Simpson, the grandfather on <em>The Simpsons</em>, summed up their plight:</p>
<blockquote>
<div><p>I used to be with ‘it’, but then they changed what ‘it’ was. Now what I’m with isn’t ‘it’  and what’s ‘it’ seems weird and scary to me. It’ll happen to you!</p>
</div></blockquote>
<p>He’s right.
Unless your views move faster than the Overton window – and for most people they don’t – you will go to bed one night thinking you’re with ‘it’, and the next day you’ll wake up on the wrong side of history.</p>
</section>
<section id="sources-and-related-reading">
<h2>Sources and related reading<a class="headerlink" href="#sources-and-related-reading" title="Permalink to this heading">#</a></h2>
<p>In many chapters, I started with analysis from a published article and then replicated or extended it.
This chapter is a little different because it is mostly about my own investigation using data from the General Social Survey.
As a result, I have fewer sources to cite and less related reading to recommend.</p>
<p>Also, it would be appropriate to consider the results in this chapter an initial exploration by a data scientist, intended to demonstrate certain tools and concepts, not definitive research by experts in political science.</p>
<ul class="simple">
<li><p>Quote Investigator explores the origin of the unattributable quote \cite{otoole2014}.</p></li>
<li><p>The General Social Survey (GSS) is a project of the independent research organization NORC at the University of Chicago, with principal funding from the National Science Foundation. The data is available from the GSS website \cite{gss2022}.</p></li>
<li><p>An article in <em>The Chicago Tribune</em> discusses social attitudes toward the word “liberal” \cite{page2007}.</p></li>
</ul>
</section>
<section id="appendix-the-fifteen-questions">
<h2>Appendix: The Fifteen Questions<a class="headerlink" href="#appendix-the-fifteen-questions" title="Permalink to this heading">#</a></h2>
<p>This appendix provides the wording of the fifteen questions from the General Social Survey that most distinguish liberals and conservatives, identified by topic and the GSS code name.</p>
<ul class="simple">
<li><p>Homosexuality (homosex): What about sexual relations between two adults of the same sex–do you think it is always wrong, almost always wrong, wrong only sometimes, or not wrong at all?</p></li>
<li><p>Capital punishment (cappun): Do you favor or oppose the death penalty for persons convicted of murder?</p></li>
<li><p>Legal cannabis (grass): Do you think the use of marijuana should be made legal or not?</p></li>
<li><p>Abortion (abany): Please tell me whether or not you think it should be possible for a pregnant woman to obtain a legal abortion if the woman wants it for any reason?</p></li>
<li><p>Prayer in public schools (prayer): The United States Supreme Court has ruled that no state or local government may require the reading of the Lord’s Prayer or Bible verses in public schools. What are your views on this–do you approve or disapprove of the court ruling?</p></li>
<li><p>Premarital sex (premarsx): There’s been a lot of discussion about the way morals and attitudes about sex are changing in this country. If a man and woman have sex relations before marriage, do you think it is always wrong, almost always wrong, wrong only sometimes, or not wrong at all?</p></li>
<li><p>Divorce (divlaw): Should divorce in this country be easier or more difficult to obtain than it is now?</p></li>
<li><p>Spending on welfare (natfare) and improving and protecting the environment (natenvir): We are faced with many problems in this country, none of which can be solved easily or inexpensively. I’m going to name some of these problems, and for each one I’d like you to tell me whether you think we’re spending too much money on it, too little money, or about the right amount.</p></li>
<li><p>Pornography (pornlaw): Which of these statements comes closest to your feelings about pornography laws?</p>
<ul>
<li><p>There should be laws against the distribution of pornography whatever the age.</p></li>
<li><p>There should be laws against the distribution of pornography to persons under 18.</p></li>
<li><p>There should be no laws forbidding the distribution of pornography.</p></li>
</ul>
</li>
<li><p>Open housing law (racopen): Suppose there is a community-wide vote on the general housing issue. There are two possible laws to vote on; which law would you vote for?</p>
<ul>
<li><p>One law says that a homeowner can decide for himself whom to sell his house to, even if he prefers not to sell to [people of a particular race].</p></li>
<li><p>The second law says that a homeowner cannot refuse to sell to someone because of their race or color.</p></li>
</ul>
</li>
<li><p>Assisted suicide (letdie1): When a person has a disease that cannot be cured, do you think doctors should be allowed by law to end the patient’s life by some painless means if the patient and his family request it?</p></li>
<li><p>Women in politics (fepol): Tell me if you agree or disagree with this statement:  Most men are better suited emotionally for politics than are most women.</p></li>
<li><p>Gun control (gunlaw): Would you favor or oppose a law which would require a person to obtain a police permit before he or she could buy a gun?</p></li>
<li><p>Sex education (sexeduc): Would you be for or against sex education in the public schools?</p></li>
</ul>
<p>Probably Overthinking It</p>
<p>Copyright 2022 Allen Downey</p>
<p>The code in this notebook and <code class="docutils literal notranslate"><span class="pre">utils.py</span></code> is under the <a class="reference external" href="https://mit-license.org/">MIT license</a>.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="progress.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Changing Hearts and Minds</p>
      </div>
    </a>
    <a class="right-next"
       href="ansur_pca.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">The Principal Components of Anthropometry</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Chasing the Overton Window</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Chasing the Overton Window</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#old-conservatives-young-liberals">Old Conservatives, Young Liberals?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-does-conservative-mean">What does “conservative” mean?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-can-this-be">How Can This Be?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-center-does-not-hold">The Center Does Not Hold</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#everything-is-relative">Everything is Relative</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#are-we-more-polarized">Are we more polarized?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chasing-overton">Chasing Overton</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sources-and-related-reading">Sources and related reading</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#appendix-the-fifteen-questions">Appendix: The Fifteen Questions</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Allen B. Downey
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>